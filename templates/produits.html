<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des produits</title>
    <link rel="stylesheet" href="static/css/produit.css">
</head>

<body class="page-content">

    <div class="page-header">
        <h2>üì¶ Gestion des produits</h2>
        <button class="btn btn-primary" onclick="showModal('addProduitModal')">+ Nouveau produit</button>
    </div>

    <div class="stats-grid" style="margin-bottom: 20px;">
        <div class="stat-card">
            <div class="stat-content">
                <div class="stat-value" id="totalProduits">0</div>
                <div class="stat-label">Produits actifs</div>
            </div>
        </div>

        <div class="stat-card alert">
            <div class="stat-content">
                <div class="stat-value" id="stockCritique">0</div>
                <div class="stat-label">Stocks critiques</div>
            </div>
        </div>
    </div>

    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Rechercher un produit..." onkeyup="chargerProduits()">
        <button class="btn btn-info" onclick="filtrerStockCritique()">‚ö†Ô∏è Stocks critiques</button>
    </div>


<h3 class="section-warning">‚ö†Ô∏è Produits en stock critique</h3>

<div class="table-responsive">
    <table class="data-table alert-table">
        <thead>
            <tr>
                <th>Code</th>
                <th>Produit</th>
                <th>Stock</th>
                <th>Seuil</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="tableStockCritique">
            <!-- Rempli automatiquement -->
        </tbody>
    </table>
</div>

<h3 style="margin-top: 35px;">üìã Tous les produits</h3>

<div class="table-responsive">
    <table class="data-table">
        <thead>
            <tr>
                <th>Code</th>
                <th>Nom</th>
                <th>Type</th>
                <th>Prix achat</th>
                <th>Prix vente</th>
                <th>Stock</th>
                <th>Marge</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="produitsTable">
            <!-- Rempli automatiquement -->
        </tbody>
    </table>
</div>


    <!-- MODAL AJOUT / EDITION PRODUIT -->
    <div id="addProduitModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addProduitModal')">&times;</span>
            <h3 id="modalTitle">Nouveau produit</h3>

            <form id="produitForm" onsubmit="saveProduit(event)">
                <input type="hidden" id="produitId">

                <div class="form-row">
                    <div class="form-group">
                        <label for="nom">Nom du produit *</label>
                        <input type="text" id="nom" required>
                    </div>
                    <div class="form-group">
                        <label for="type">Type</label>
                        <input type="text" id="type" placeholder="Boisson, Alcool, Snack...">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="prix_achat">Prix d'achat (FCFA) *</label>
                        <input type="number" id="prix_achat" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="prix_vente">Prix de vente (FCFA) *</label>
                        <input type="number" id="prix_vente" step="0.01" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="stock">Stock initial</label>
                        <input type="number" id="stock" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="stock_alerte">Seuil d'alerte</label>
                        <input type="number" id="stock_alerte" value="10" min="0">
                    </div>
                    <div class="form-group">
                        <label for="unite">Unit√©</label>
                        <input type="text" id="unite" value="unit√©">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addProduitModal')">Annuler</button>
                    <button type="submit" class="btn btn-primary">Enregistrer</button>
                </div>
            </form>
        </div>
    </div>

    <script src="static/js/produit.js"></script>
</body>
</html>
